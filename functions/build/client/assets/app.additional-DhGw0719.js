import{S as b,r as c,j as e}from"./index-B1pHpRNp.js";import{_ as P}from"./index-DrlDjJDS.js";import{e as S,F as B}from"./components-BjFc177o.js";import{c as I,v as j,P as N,a as o,T as l,d as u,B as E}from"./Page-DDM6I2Ft.js";import{L as v}from"./Layout-BydNcIZ-.js";import{C as h}from"./Card-Bo18rNf_.js";import"./context-BvNBXPIc.js";var m={List:"Polaris-List",typeNumber:"Polaris-List--typeNumber",Item:"Polaris-List__Item",spacingLoose:"Polaris-List--spacingLoose"};function K({children:n}){return b.createElement("li",{className:m.Item},n)}const y=function({children:i,gap:t="loose",type:r="bullet"}){const d=I(m.List,t&&m[j("spacing",t)],r&&m[j("type",r)]),p=r==="bullet"?"ul":"ol";return b.createElement(p,{className:d},i)};y.Item=K;const H=()=>{var f,x;const n=((f=S())==null?void 0:f.shop)||"",i=((x=S())==null?void 0:x.carrier)||[],[t,r]=c.useState({shopDomain:n||"",apiKey:"",apiSecret:""}),[d,p]=c.useState(!1),[g,L]=c.useState(!1);c.useEffect(()=>{const a=i.some(s=>s.carrierService.formattedName.includes("Bearer d   elivery"));console.log(a),L(a)},[i]);const C=async a=>{a.preventDefault();const s=a.currentTarget,D=new FormData(s);(await fetch(s.action,{method:s.method,body:D})).ok&&p(!0)};return e.jsxs(N,{children:[e.jsx(P,{title:"Settings Page"}),e.jsx(v,{children:e.jsx(v.Section,{children:e.jsxs(o,{gap:"300",as:"div",children:[e.jsx(o,{children:e.jsx(h,{children:e.jsx(B,{method:"post",onSubmit:C,children:e.jsxs(o,{gap:"300",children:[e.jsx(l,{as:"p",variant:"bodyMd",children:"Manage API Credentials"}),e.jsx(u,{label:"Shop Domain",name:"shopDomain",value:t.shopDomain,autoComplete:"off"}),e.jsx(u,{label:"API Key",name:"apiKey",placeholder:"Key...",value:t.apiKey,onChange:a=>r(s=>({...s,apiKey:a})),autoComplete:"off"}),e.jsx(u,{label:"API Secret",name:"apiSecret",placeholder:"Secret...",value:t.apiSecret,onChange:a=>r(s=>({...s,apiSecret:a})),autoComplete:"off"}),g?e.jsx(l,{as:"p",variant:"bodyMd",tone:"success",children:"The Bearer Carrier Service is available in your shop."}):e.jsx(E,{submit:!0,size:"large",tone:"success",variant:"primary",children:"Activate Bearer"}),d&&e.jsx(l,{as:"p",variant:"bodyMd",children:"Credentials submitted successfully!"})]})})})}),e.jsx(o,{gap:"300",children:e.jsx(h,{children:e.jsxs(o,{gap:"200",children:[e.jsx(l,{as:"p",variant:"bodyMd",children:"Available Carrier Services:"}),e.jsx(h,{children:i.map((a,s)=>e.jsx(y,{children:e.jsx("li",{children:a.carrierService.formattedName})},s))})]})})})]})})})]})};export{H as default};
